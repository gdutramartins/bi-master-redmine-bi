<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>etl-fatos</name>
    <description />
    <extended_description />
    <trans_version />
    <trans_type>Normal</trans_type>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection />
        <schema />
        <table />
        <size_limit_lines />
        <interval />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject />
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject />
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject />
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject />
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject />
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject />
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection />
        <schema />
        <table />
        <interval />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection />
      <table />
      <field />
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file />
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2021/01/31 16:39:57.787</created_date>
    <modified_user>-</modified_user>
    <modified_date>2021/01/31 16:39:57.787</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>DB_REDMINE_ASN</name>
    <server>localhost</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>db_redmine_asn</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e4cb1ebb63ca93b9d5</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>DW_REDMINE</name>
    <server>localhost</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>dw_redmine</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e4cb1ebb63ca93b9d5</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Lookup Prioridade</from>
      <to>Lookup Projeto</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup Projeto</from>
      <to>Lookup Depto Solicitante</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup Subcategoria</from>
      <to>Grava Fatos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup Depto Solicitante</from>
      <to>Lookup Situacao</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup Situacao</from>
      <to>Lookup Tipo Tarefa</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Limpa Fato</from>
      <to>Get Fatos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get Fatos</from>
      <to>Lookup Prioridade</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup Data Solicitacao</from>
      <to>Lookup Data Conclusao</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup Data Conclusao</from>
      <to>Lookup Data Conclusao Solicitada</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup Data Conclusao Solicitada</from>
      <to>Replace in string</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup Tipo Tarefa</from>
      <to>Calcula Dias Revisao</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Calcula Dias Revisao</from>
      <to>Calcula Dias Andamento</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Calcula Dias Andamento</from>
      <to>Calcula Dias Nova</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Calcula Dias Nova</from>
      <to>Calcula Dias Aguardando Revisao</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Calcula Dias Aguardando Revisao</from>
      <to>Calcula Dias Suspensaa</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Calcula Dias Suspensaa</from>
      <to>Lookup Data Solicitacao</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Replace in string</from>
      <to>Lookup Subcategoria</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Grava Fatos</from>
      <to>Blocking Step</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Blocking Step</from>
      <to>Limpa Dim Dias Em Estagio</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Limpa Dim Dias Em Estagio</from>
      <to>Cria Range Dias Estagio e Adiciona FK</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Blocking Step</name>
    <type>BlockingStep</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <pass_all_rows>N</pass_all_rows>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>block</prefix>
    <cache_size>5000</cache_size>
    <compress>Y</compress>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>704</xloc>
      <yloc>384</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Calcula Dias Aguardando Revisao</name>
    <type>DBProc</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DB_REDMINE_ASN</connection>
    <procedure>db_redmine_asn.calculaTempoEmStatus</procedure>
    <lookup>
      <arg>
        <name>id</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>id_estagio_aguardando_revisao</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>total_dias_aguardando_revisao</name>
        <direction>OUT</direction>
        <type>Number</type>
      </arg>
    </lookup>
    <result>
      <name />
      <type>Number</type>
    </result>
    <auto_commit>N</auto_commit>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>480</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Calcula Dias Andamento</name>
    <type>DBProc</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DB_REDMINE_ASN</connection>
    <procedure>db_redmine_asn.calculaTempoEmStatus</procedure>
    <lookup>
      <arg>
        <name>id</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>id_estagio_andamento</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>total_dias_andamento</name>
        <direction>OUT</direction>
        <type>Number</type>
      </arg>
    </lookup>
    <result>
      <name />
      <type>Number</type>
    </result>
    <auto_commit>N</auto_commit>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>528</xloc>
      <yloc>272</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Calcula Dias Nova</name>
    <type>DBProc</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DB_REDMINE_ASN</connection>
    <procedure>db_redmine_asn.calculaTempoEmStatusNova</procedure>
    <lookup>
      <arg>
        <name>id</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>id_estagio_nova</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>total_dias_nova</name>
        <direction>OUT</direction>
        <type>Number</type>
      </arg>
    </lookup>
    <result>
      <name />
      <type>Number</type>
    </result>
    <auto_commit>N</auto_commit>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>624</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Calcula Dias Revisao</name>
    <type>DBProc</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DB_REDMINE_ASN</connection>
    <procedure>db_redmine_asn.calculaTempoEmStatus</procedure>
    <lookup>
      <arg>
        <name>id</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>id_estagio_revisao</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>total_dias_revisao</name>
        <direction>OUT</direction>
        <type>Number</type>
      </arg>
    </lookup>
    <result>
      <name />
      <type>Number</type>
    </result>
    <auto_commit>N</auto_commit>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>512</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Calcula Dias Suspensaa</name>
    <type>DBProc</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DB_REDMINE_ASN</connection>
    <procedure>db_redmine_asn.calculaTempoEmStatus</procedure>
    <lookup>
      <arg>
        <name>id</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>id_estagio_suspensa</name>
        <direction>IN</direction>
        <type>None</type>
      </arg>
      <arg>
        <name>total_dias_suspensa</name>
        <direction>OUT</direction>
        <type>Number</type>
      </arg>
    </lookup>
    <result>
      <name />
      <type>Number</type>
    </result>
    <auto_commit>N</auto_commit>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>592</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Cria Range Dias Estagio e Adiciona FK</name>
    <type>ExecSQL</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>Insert into tb_dim_dias_estagio(nu_dias_estagio)
Select distinct ext.nu_dias_estagio
	From (Select nova.nu_dias_nova as nu_dias_estagio from tb_fato nova 
		  Union All 
		  Select revisao.nu_dias_revisao as nu_dias_estagio from tb_fato revisao 
		  Union All 
		  Select andamento.nu_dias_andamento as nu_dias_estagio from tb_fato andamento
		  Union All 
		  Select susp.nu_dias_suspensa as nu_dias_estagio from tb_fato susp
		  Union All 
		  Select agRev.nu_dias_aguardando_revisao as nu_dias_estagio from tb_fato agRev		 
		  ) as ext
	order by ext.nu_dias_estagio;
Select 1 from tb_dim_dias_estagio where nu_dias_estagio = ?;

Alter table tb_fato
Add KEY `dim_nu_dias_est_nova_tb_fato_fk_idx` (`nu_dias_nova`),
Add KEY `dim_nu_dias_est_rev_tb_fato_fk_idx` (`nu_dias_revisao`),
Add KEY `dim_nu_dias_est_andamento_tb_fato_fk_idx` (`nu_dias_andamento`),
Add KEY `dim_nu_dias_est_susp_tb_fato_fk_idx` (`nu_dias_suspensa`),
Add KEY `dim_nu_dias_est_agRev_tb_fato_fk_idx` (`nu_dias_aguardando_revisao`),
Add CONSTRAINT `dim_nu_dias_est_agRev_tb_fato_fk` FOREIGN KEY (`nu_dias_aguardando_revisao`) REFERENCES `tb_dim_dias_estagio` (`nu_dias_estagio`) ON DELETE NO ACTION ON UPDATE NO ACTION,
Add CONSTRAINT `dim_nu_dias_est_andamento_tb_fato_fk` FOREIGN KEY (`nu_dias_andamento`) REFERENCES `tb_dim_dias_estagio` (`nu_dias_estagio`) ON DELETE NO ACTION ON UPDATE NO ACTION,
Add CONSTRAINT `dim_nu_dias_est_nova_tb_fato_fk` FOREIGN KEY (`nu_dias_nova`) REFERENCES `tb_dim_dias_estagio` (`nu_dias_estagio`) ON DELETE NO ACTION ON UPDATE NO ACTION,
Add CONSTRAINT `dim_nu_dias_est_rev_tb_fato_fk` FOREIGN KEY (`nu_dias_revisao`) REFERENCES `tb_dim_dias_estagio` (`nu_dias_estagio`) ON DELETE NO ACTION ON UPDATE NO ACTION,
Add CONSTRAINT `dim_nu_dias_est_susp_tb_fato_fk` FOREIGN KEY (`nu_dias_suspensa`) REFERENCES `tb_dim_dias_estagio` (`nu_dias_estagio`) ON DELETE NO ACTION ON UPDATE NO ACTION;
</sql>
    <set_params>N</set_params>
    <insert_field />
    <update_field />
    <delete_field />
    <read_field />
    <arguments>
      <argument>
        <name>id</name>
      </argument>
    </arguments>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1024</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get Fatos</name>
    <type>TableInput</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DB_REDMINE_ASN</connection>
    <sql>Select
    i.id,
	8 as id_estagio_revisao,
	1 as id_estagio_nova,
	16 as id_estagio_aguardando_revisao,
	10 as id_estagio_suspensa,
	2 as id_estagio_andamento,
	9 as id_estagio_aguardando_info,
    (Select sum(hours) from time_entries where issue_id = i.id) as total_tempo,
    (Select sum(hours) from time_entries where issue_id = i.id and activity_id in (80,84,85,88, 91, 100)) as total_analise,
    (Select sum(hours) from time_entries where issue_id = i.id and activity_id in (66)) as total_execucao,
    (Select sum(hours) from time_entries where issue_id = i.id and activity_id in (67)) as total_revisao,
    (Select sum(hours) from time_entries where issue_id = i.id and activity_id in (103)) as total_especificacao,
    (Select sum(hours) from time_entries where issue_id = i.id and activity_id in (104)) as total_gestao,
    (Select sum(hours) from time_entries where issue_id = i.id and activity_id in (110)) as total_reuniao,
    (Select sum(hours) from time_entries where issue_id = i.id and activity_id in (111)) as total_capacitacao,
    If(i.parent_id is not null, true, false) as tem_tarefa_pai,
    (select count(*) from issues Ifilho where parent_id = i.id) as quantidade_filhos,
    (Select value from custom_values where customized_id = i.id and custom_field_id = 5 and customized_type = 'Issue') as data_solicitacao,
    (Select value from custom_values where customized_id = i.id and custom_field_id = 1 and customized_type = 'Issue') as data_conclusao,
    (Select value from custom_values where customized_id = i.id and custom_field_id = 7 and customized_type = 'Issue') as data_conclusao_solicitada,
    
    (Select value from custom_values where customized_id = i.id and custom_field_id = 9 and customized_type = 'Issue') as depto_solicitante,
    i.priority_id,
    i.category_id,
    cv.value as cutom_field_categoria,
    cv.custom_field_id,
    i.status_id,
    i.tracker_id,
    i.project_id,
    CASE 
		WHEN cvIndDesempenho.value = 1  THEN 'S' 
        ELSE 'N' 
	END as ind_desempenho,
    CASE
		WHEN i.category_id is NULL Then replace(cv.value,'–','-')
        when i.category_id is not NULL Then cat.name
	END as no_categoria,
    CASE
		WHEN cv.value is NULL OR LENGTH(TRIM(cv.value)) = 0 Then cat.name
        when cv.value is not NULL Then replace(cv.value,'–','-')
	END as no_subcategoria
    
From Issues i
Left Join custom_values cv on cv.customized_id = i.id and cv.custom_field_id in (32,75,76,10,72) and cv.customized_type = 'Issue'
Left Join custom_values cvIndDesempenho on cvIndDesempenho.customized_id = i.id and cvIndDesempenho.custom_field_id = 73 and cvIndDesempenho.customized_type = 'Issue'
Left Join issue_categories cat on i.category_id = cat.id
Where
	i.project_id  in (81,82,91,92,93,160) ;</sql>
    <limit>0</limit>
    <lookup />
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>80</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Grava Fatos</name>
    <type>TableOutput</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <schema />
    <table>tb_fato</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field />
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field />
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field />
    <fields>
      <field>
        <column_name>nk_issue_id</column_name>
        <stream_name>id</stream_name>
      </field>
      <field>
        <column_name>id_departamento_solicitante</column_name>
        <stream_name>id_depto_solicitante_lookup</stream_name>
      </field>
      <field>
        <column_name>id_prioridade</column_name>
        <stream_name>id_prioridade_lookup</stream_name>
      </field>
      <field>
        <column_name>id_categoria</column_name>
        <stream_name>id_categoria_lookup</stream_name>
      </field>
      <field>
        <column_name>id_situacao</column_name>
        <stream_name>id_situacao_lookup</stream_name>
      </field>
      <field>
        <column_name>id_tipo_tarefa</column_name>
        <stream_name>id_tipo_tarefa_lookup</stream_name>
      </field>
      <field>
        <column_name>id_projeto</column_name>
        <stream_name>id_projeto_lookup</stream_name>
      </field>
      <field>
        <column_name>id_data_solicitacao</column_name>
        <stream_name>id_data_solicitacao_lookup</stream_name>
      </field>
      <field>
        <column_name>id_data_conclusao</column_name>
        <stream_name>id_data_conclusao_lookup</stream_name>
      </field>
      <field>
        <column_name>nu_total_tempo</column_name>
        <stream_name>total_tempo</stream_name>
      </field>
      <field>
        <column_name>id_data_conclusao_solicitada</column_name>
        <stream_name>id_data_conclusao_solicitada_lookup</stream_name>
      </field>
      <field>
        <column_name>nu_tempo_analise</column_name>
        <stream_name>total_analise</stream_name>
      </field>
      <field>
        <column_name>nu_tempo_execucao</column_name>
        <stream_name>total_execucao</stream_name>
      </field>
      <field>
        <column_name>nu_tempo_revisao</column_name>
        <stream_name>total_revisao</stream_name>
      </field>
      <field>
        <column_name>nu_tempo_especificacao</column_name>
        <stream_name>total_especificacao</stream_name>
      </field>
      <field>
        <column_name>nu_tempo_gestao</column_name>
        <stream_name>total_gestao</stream_name>
      </field>
      <field>
        <column_name>nu_tempo_reuniao</column_name>
        <stream_name>total_reuniao</stream_name>
      </field>
      <field>
        <column_name>nu_tempo_capacitacao</column_name>
        <stream_name>total_capacitacao</stream_name>
      </field>
      <field>
        <column_name>nu_dias_revisao</column_name>
        <stream_name>total_dias_revisao</stream_name>
      </field>
      <field>
        <column_name>nu_dias_andamento</column_name>
        <stream_name>total_dias_andamento</stream_name>
      </field>
      <field>
        <column_name>nu_dias_suspensa</column_name>
        <stream_name>total_dias_suspensa</stream_name>
      </field>
      <field>
        <column_name>nu_dias_aguardando_revisao</column_name>
        <stream_name>total_dias_aguardando_revisao</stream_name>
      </field>
      <field>
        <column_name>nu_dias_nova</column_name>
        <stream_name>total_dias_nova</stream_name>
      </field>
      <field>
        <column_name>ind_desempenho</column_name>
        <stream_name>ind_desempenho</stream_name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>832</xloc>
      <yloc>256</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Limpa Dim Dias Em Estagio</name>
    <type>ExecSQL</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>Delete FROM dw_redmine.tb_dim_dias_estagio;
Select 1 from dw_redmine.tb_dim_dias_estagio where nu_dias_estagio = ?;</sql>
    <set_params>N</set_params>
    <insert_field />
    <update_field />
    <delete_field />
    <read_field />
    <arguments>
      <argument>
        <name>id</name>
      </argument>
    </arguments>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>864</xloc>
      <yloc>384</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Limpa Fato</name>
    <type>ExecSQL</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>Delete FROM dw_redmine.tb_fato;

ALTER TABLE `dw_redmine`.`tb_fato` 
DROP FOREIGN KEY `dim_nu_dias_est_susp_tb_fato_fk`,
DROP FOREIGN KEY `dim_nu_dias_est_rev_tb_fato_fk`,
DROP FOREIGN KEY `dim_nu_dias_est_nova_tb_fato_fk`,
DROP FOREIGN KEY `dim_nu_dias_est_andamento_tb_fato_fk`,
DROP FOREIGN KEY `dim_nu_dias_est_agRev_tb_fato_fk`;
ALTER TABLE `dw_redmine`.`tb_fato` 
DROP INDEX `dim_nu_dias_est_agRev_tb_fato_fk_idx` ,
DROP INDEX `dim_nu_dias_est_susp_tb_fato_fk_idx` ,
DROP INDEX `dim_nu_dias_est_andamento_tb_fato_fk_idx` ,
DROP INDEX `dim_nu_dias_est_rev_tb_fato_fk_idx` ,
DROP INDEX `dim_nu_dias_est_nova_tb_fato_fk_idx` ;
;</sql>
    <set_params>N</set_params>
    <insert_field />
    <update_field />
    <delete_field />
    <read_field />
    <arguments>
    </arguments>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>96</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Data Conclusao</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_data</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>data_conclusao</name>
        <field>id_data</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_data</name>
        <rename>id_data_conclusao_lookup</rename>
        <default />
        <type>String</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>320</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Data Conclusao Solicitada</name>
    <type>DBLookup</type>
    <description />
    <distribute>N</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_data</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>data_conclusao_solicitada</name>
        <field>id_data</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_data</name>
        <rename>id_data_conclusao_solicitada_lookup</rename>
        <default />
        <type>String</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>496</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Data Solicitacao</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_data</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>data_solicitacao</name>
        <field>id_data</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_data</name>
        <rename>id_data_solicitacao_lookup</rename>
        <default />
        <type>String</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>320</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Depto Solicitante</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_departamento_solicitante</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>depto_solicitante</name>
        <field>nk_departamento_solicitante</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_departamento_solicitante</name>
        <rename>id_depto_solicitante_lookup</rename>
        <default />
        <type>None</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>144</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Prioridade</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_prioridade</table>
      <orderby />
      <fail_on_multiple>Y</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>priority_id</name>
        <field>nk_priority_id</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_prioridade</name>
        <rename>id_prioridade_lookup</rename>
        <default />
        <type>None</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>144</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Projeto</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_projeto</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>project_id</name>
        <field>nk_projeto</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_projeto</name>
        <rename>id_projeto_lookup</rename>
        <default />
        <type>None</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>144</xloc>
      <yloc>304</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Situacao</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_situacao</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>status_id</name>
        <field>nk_situacao</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_situacao</name>
        <rename>id_situacao_lookup</rename>
        <default />
        <type>None</type>
      </value>
      <value>
        <name />
        <rename />
        <default />
        <type>None</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>336</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Subcategoria</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_categoria</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>regex_nome_subcategoria</name>
        <field>no_subcategoria</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_categoria</name>
        <rename>id_categoria_lookup</rename>
        <default />
        <type>None</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>816</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lookup Tipo Tarefa</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>DW_REDMINE</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema />
      <table>tb_dim_tipo_tarefa</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>tracker_id</name>
        <field>nk_tipo_tarefa</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id_tipo_tarefa</name>
        <rename>id_tipo_tarefa_lookup</rename>
        <default />
        <type>None</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>336</xloc>
      <yloc>272</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Replace in string</name>
    <type>ReplaceString</type>
    <description />
    <distribute>N</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <in_stream_name>no_categoria</in_stream_name>
        <out_stream_name>regex_nome_categoria</out_stream_name>
        <use_regex>yes</use_regex>
        <replace_string>^[\dXY][\d.\s]*[.-]</replace_string>
        <replace_by_string />
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string />
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>no_subcategoria</in_stream_name>
        <out_stream_name>regex_nome_subcategoria</out_stream_name>
        <use_regex>yes</use_regex>
        <replace_string>^[\dXY][\d.\s]*[.-]</replace_string>
        <replace_by_string />
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string />
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>816</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
</transformation>
